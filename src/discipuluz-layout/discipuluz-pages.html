<link rel="import" href="../../bower_components/app-route/app-route.html">
<link rel="import" href="../../bower_components/iron-pages/iron-pages.html">

<dom-module id="discipuluz-pages">
	<template>
		<style is="custom-style" include="iron-flex iron-flex-factors">
		</style>

		<app-route
			route="{{route}}"
			pattern="/:page"
			data="{{routeData}}"
			tail="{{subroute}}">
		</app-route>
		
		<iron-pages attr-for-selected="name" selected="[[page]]" class="flex">
			<content></content>
		</iron-pages>
	</template>

	<script>
		Polymer({
			is: 'discipuluz-pages',
			properties: {
				route: {
					type: Object,
					observer: '_changeRoute',
					notify: true
				},
				subroute: {
					type: Object,
					notify: true
				},
				page: {
					type: String,
					notify: true
				},
				home: {
					type: String,
					value: 'inicio'
				}
			},

			_changeRoute: function(){
				if(!this.routeData.page){
					this.set('page', this.home)
				}else {
					this.set('page', this.routeData.page)
				}
			}
		})
	</script>
</dom-module>
