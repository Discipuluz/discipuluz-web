<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-input/paper-textarea.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../../bower_components/gold-email-input/gold-email-input.html">


<link rel="import" href="../discipuluz-components/discipuluz-form.html">

<dom-module id="discipuluz-contact">
	<template>
		<style is="custom-style" include="iron-flex iron-flex-factors iron-flex-alignment">
			.icon{
				margin-left: 5px;
			}
			paper-button{
				background-color: var(--primary-title-color);
				color: var(--primary-bg-color);
				margin-top: 10px;
			}

		</style>

		<div class="layout horizontal">
			<template is="dom-if" if="[[isLargeScreen]]">
				<div class="flex-2"></div>
			</template>
			<discipuluz-form class="flex-3 contact-card"
				title="[[localize('title')]]"
				back-title="[[localize('success-title')]]"
<<<<<<< Updated upstream
				url="http://localhost:8000/web/contact/save"
=======
				url="/web/contact/save"
>>>>>>> Stashed changes
				button-text="[[localize('submit')]]"
				on-response="_formResponse">
				<div class="form-front layout vertical">
					<div class="layout horizontal">
						<paper-input required class="flex" label="[[localize('name-label')]]" name="name" error-message="[[localize('name-error')]]"></paper-input>
					</div>
					<div class="layout horizontal">
						<gold-email-input required class="flex" auto-validate label="[[localize('email-label')]]"
							regex="^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$"
							error-message="[[localize('email-error')]]" name="email"></gold-email-input>
					</div>
					<div class="layout horizontal">
						<paper-textarea required class="flex" label="[[localize('message-label')]]" name="message" error-message="[[localize('message-error')]]"></paper-textarea>
					</div>
				</div>
				<div class="form-back">
					<p>
						[[localize('success-message')]]
					</p>
				</div>
			</discipuluz-form>
			<template is="dom-if" if="[[isLargeScreen]]">
				<div class="flex-2"></div>
			</template>
		</div>
	</template>


	<script>
	Polymer({

		is: 'discipuluz-contact',

		behaviors: [
			Discipuluz.AppLocalizeBehavior,
			Discipuluz.AppResponsiveBehavior
		],

		properties: {
			file: {
				value: 'contact'
			}
		},
		_formResponse: function(e){
			console.log(e)
		},
	})
	</script>

</dom-module>
